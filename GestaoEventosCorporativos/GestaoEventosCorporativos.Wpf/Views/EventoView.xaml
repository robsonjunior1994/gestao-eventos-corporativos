<UserControl x:Class="GestaoEventosCorporativos.Wpf.Views.EventoView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="Auto" Width="Auto">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">

            <!-- BOTÃO DE VOLTAR -->
            <DockPanel Margin="0,0,0,20">
                <TextBlock Text="Gerenciar Eventos" FontSize="22" FontWeight="Bold" 
               VerticalAlignment="Center" DockPanel.Dock="Left"/>
                <Button Content="Voltar" Background="Red" Width="100" Height="30" 
            DockPanel.Dock="Right" 
            HorizontalAlignment="Right"
            Click="Voltar_Click"/>
            </DockPanel>

            <!-- CADASTRO -->
            <TextBlock x:Name="btnNome" Text="Cadastrar" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

            <Label Content="Nome"/>
            <TextBox x:Name="txtNome" Height="30" Margin="0,0,0,10"/>

            <Label Content="Data Início"/>
            <DatePicker x:Name="dpDataInicio" Height="30" Margin="0,0,0,10"/>

            <Label Content="Data Fim"/>
            <DatePicker x:Name="dpDataFim" Height="30" Margin="0,0,0,10"/>

            <Label Content="Local"/>
            <TextBox x:Name="txtLocal" Height="30" Margin="0,0,0,10"/>

            <Label Content="CEP com 8 digitos"/>
            <Label Content="Ex: 04543907"/>
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBox x:Name="txtCep" Width="200" Height="30" Margin="0,0,5,0"/>
                <Button Content="Buscar" Width="80" Height="30" Click="BuscarCep_Click"/>
            </StackPanel>

            <Label Content="Endereço"/>
            <TextBox x:Name="txtEndereco" Height="30" Margin="0,0,0,10"/>

            <Label Content="Observações"/>
            <TextBox x:Name="txtObservacoes" Height="60" Margin="0,0,0,10" TextWrapping="Wrap" AcceptsReturn="True"/>

            <Label Content="Lotação Máxima"/>
            <TextBox x:Name="txtLotacaoMaxima" Height="30" Margin="0,0,0,10"/>

            <Label Content="Orçamento Máximo"/>
            <TextBox x:Name="txtOrcamentoMaximo" Height="30" Margin="0,0,0,10"/>

            <Label Content="Tipo de Evento"/>
            <ComboBox x:Name="cmbTipoEvento" Height="30" Margin="0,0,0,20"
                      DisplayMemberPath="Descricao"
                      SelectedValuePath="Id"/>

            <Button x:Name="btnSalvar" Content="Salvar" Background="Green" Height="35" Margin="0,0,0,20" Click="Cadastrar_Click"/>

            <!-- LISTAGEM -->
            <DataGrid x:Name="dgEventos" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" Height="300">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                    <DataGridTextColumn Header="Nome" Binding="{Binding Nome}" Width="200"/>
                    <DataGridTextColumn Header="Início" Binding="{Binding DataInicio, StringFormat=dd/MM/yyyy}" Width="120"/>
                    <DataGridTextColumn Header="Fim" Binding="{Binding DataFim, StringFormat=dd/MM/yyyy}" Width="120"/>
                    <DataGridTextColumn Header="Local" Binding="{Binding Local}" Width="150"/>
                    <DataGridTextColumn Header="Endereco" Binding="{Binding Endereco}" Width="150"/>
                    <DataGridTextColumn Header="Tipo" Binding="{Binding TipoEventoDescricao}" Width="150"/>
                    <DataGridTextColumn Header="Orçamento" Binding="{Binding OrcamentoMaximo, StringFormat=C}" Width="120"/>
                    <DataGridTextColumn Header="Participantes" Binding="{Binding ParticipantesResumo}" Width="250"/>
                    <DataGridTextColumn Header="Fornecedores" Binding="{Binding FornecedoresResumo}" Width="250"/>

                    <!-- Botões -->
                    <DataGridTemplateColumn Header="Ações" Width="400">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <WrapPanel HorizontalAlignment="Center">
                                    <Button Content="Editar" Tag="{Binding Id}" Click="Editar_Click"
                        Margin="2" Background="DodgerBlue" Foreground="White" Padding="5,2"/>
                                    <Button Content="Excluir" Tag="{Binding Id}" Click="Excluir_Click"
                        Margin="2" Background="Red" Foreground="White" Padding="5,2"/>
                                    <Button Content="Participantes" Tag="{Binding}" Click="AdicionarParticipantes_Click"
                        Margin="2" Background="Green" Foreground="White" Padding="5,2"/>
                                    <Button Content="Fornecedores" Tag="{Binding}" Click="AdicionarFornecedores_Click"
                        Margin="2" Background="DarkOrange" Foreground="White" Padding="5,2"/>
                                </WrapPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>




                </DataGrid.Columns>
            </DataGrid>


            <!-- Paginação -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                <Button Content="Anterior" Width="100" Margin="5" Click="Anterior_Click"/>
                <TextBlock x:Name="txtPagina" VerticalAlignment="Center" Margin="10,0" FontWeight="Bold"/>
                <Button Content="Próxima" Width="100" Margin="5" Click="Proxima_Click"/>
            </StackPanel>

        </StackPanel>
    </ScrollViewer>
</UserControl>
